<section class="auth">
    <div class="card">
        <h1 class="card__title">Task Manager</h1>
        <div class="card__content">
            <form [formGroup]="frmAuth">
                <app-input-validation-container *ngIf="mode === 'signup'">
                    <mat-form-field> <input matInput placeholder="Name" type="text" formControlName="name" /> </mat-form-field>
                </app-input-validation-container>
                <app-input-validation-container>
                    <mat-form-field>
                        <input matInput placeholder="E-mail" type="email" formControlName="email" />
                    </mat-form-field>
                </app-input-validation-container>
                <app-input-validation-container *ngIf="mode === 'signin'">
                    <mat-form-field>
                        <input matInput placeholder="Password" type="password" formControlName="password" />
                    </mat-form-field>
                </app-input-validation-container>
                <app-input-validation-container *ngIf="mode === 'signup'">
                    <mat-form-field>
                        <input
                            matInput
                            placeholder="Password"
                            type="password"
                            formControlName="password"
                            validateEqual="confirmPassword"
                            reverse="true"
                        />
                    </mat-form-field>
                </app-input-validation-container>
                <app-input-validation-container *ngIf="mode === 'signup'">
                    <mat-form-field>
                        <input
                            matInput
                            placeholder="Confirm Password"
                            type="password"
                            formControlName="confirmPassword"
                            validateEqual="password"
                        />
                    </mat-form-field>
                </app-input-validation-container>
                <button
                    *ngIf="mode === 'signin'"
                    [disabled]="!frmAuth.valid"
                    mat-raised-button
                    color="primary"
                    (click)="signin()"
                >
                    Signin
                </button>
                <button
                    *ngIf="mode === 'signup'"
                    [disabled]="!frmAuth.valid"
                    mat-raised-button
                    color="primary"
                    (click)="signup()"
                >
                    Register
                </button>
                <a *ngIf="mode === 'signin'" (click)="toggleMode()">Signup</a>
                <a *ngIf="mode === 'signup'" (click)="toggleMode()">Signin</a>
            </form>
            <p class="errorMessage" *ngIf="feedback">{{ feedback }}</p>
        </div>
    </div>
</section>
